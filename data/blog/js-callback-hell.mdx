---
title: 'ğŸ˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½œë°± ì§€ì˜¥ì´ë€'
thumbSrc: '/static/images/js13.png'
date: '2021-06-26'
tags: ['FE', 'JavaScript']
draft: false
summary: 'ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í•™ìŠµí•˜ë©° ì •ë¦¬í•œ ìë£Œë¡œ ì½œë°± ì§€ì˜¥ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.'
images: ['/static/images/js13.png']
---

# ğŸ“Œ ëª©ì°¨

![JS Callback Hell](/static/images/js13.png)

- **ğŸ’ğŸ» ì½œë°±ì´ë€**

- **ğŸ‘¿ ì½œë°± ì§€ì˜¥ì´ë€**

- **ğŸ”‘ ì½œë°± ì§€ì˜¥ í•´ê²°í•˜ê¸°**

---

# ğŸ’ğŸ» ì½œë°±ì´ë€

ì½œë°±ì— ëŒ€í•œ ë³´ë‹¤ ìì„¸í•œ ì„¤ëª…ì€ [ğŸ˜ ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì •ë¦¬ë³¸ - ì½œë°±ì´ë€](https://www.golee.tech/blog/js-callback)ì—ì„œ ë‹¤ë£¨ê³  ìˆìœ¼ë‹ˆ ì°¸ê³ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

---

# ğŸ‘¿ ì½œë°± ì§€ì˜¥ì´ë€

`ì½œë°± ì§€ì˜¥ (Callback Hell)`ì€ ì½œë°± í•¨ìˆ˜ë¥¼ **ìµëª… í•¨ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì´ ë°˜ë³µë˜ì–´ ì½”ë“œì˜ ë“¤ì—¬ì“°ê¸° ìˆ˜ì¤€ì´ ê°ë‹¹í•˜ê¸° í˜ë“¤ì •ë„ë¡œ ê¹Šì–´ì§€ëŠ” í˜„ìƒ**ì„ ì´ì•¼ê¸°í•©ë‹ˆë‹¤.

ì£¼ë¡œ, ì´ë²¤íŠ¸ ì²˜ë¦¬ë‚˜ ì„œë²„ í†µì‹ ê³¼ ê°™ì€ **ë¹„ë™ê¸°ì ì¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì´ëŸ° í˜•íƒœê°€ ìì£¼ ë“±ì¥**í•˜ëŠ”ë°, ê°€ë…ì„±ì´ ë–¨ì–´ì§€ë©´ì„œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê¸°ë„ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.

ì½œë°± ì§€ì˜¥ ì½”ë“œ ì˜ˆì‹œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

```javascript
setTimeout(
  (name) => {
    let coffeeList = name
    console.log(coffeeList)

    setTimeout(
      (name) => {
        coffeeList += ', ' + name
        console.log(coffeeList)

        setTimeout(
          (name) => {
            coffeeList += ', ' + name
            console.log(coffeeList)

            setTimeout(
              (name) => {
                coffeeList += ', ' + name
                console.log(coffeeList)
              },
              500,
              'Latte'
            )
          },
          500,
          'Mocha'
        )
      },
      500,
      'Americano'
    )
  },
  500,
  'Espresso'
)

// ê²°ê³¼
// Espresso (0.5ì´ˆ)
// Espresso, Americano (1.0ì´ˆ)
// Espresso, Americano, Mocha (1.5ì´ˆ)
// Espresso, Americano, Mocha, Latte (2.0ì´ˆ)
```

---

# ğŸ”‘ ì½œë°± ì§€ì˜¥ íƒˆì¶œí•˜ê¸°

## ê¸°ëª…í•¨ìˆ˜

**ê°€ë…ì„± ë¬¸ì œì™€ ì–´ìƒ‰í•¨ì„ ë™ì‹œì— í•´ê²°í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•**ì€ ìµëª…ì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ëª¨ë‘ **ê¸°ëª…í•¨ìˆ˜ë¡œ ì „í™˜**í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```javascript
let coffeeList = ''

const addEspresso = (name) => {
  coffeeList = name
  console.log(coffeeList)
  setTimeout(addAmericano, 500, 'Americano')
}

const addAmericano = (name) => {
  coffeeList += ', ' + name
  console.log(coffeeList)
  setTimeout(addMocha, 500, 'Mocha')
}

const addMocha = (name) => {
  coffeeList += ', ' + name
  console.log(coffeeList)
  setTimeout(addLatte, 500, 'Latte')
}

const addLatte = (name) => {
  coffeeList += ', ' + name
  console.log(coffeeList)
}

setTimeout(addEspresso, 500, 'Espresso')
```

ìœ„ì˜ ì½”ë“œëŠ” ìµëª…í•¨ìˆ˜ë¥¼ ëª¨ë‘ ê¸°ëª…í•¨ìˆ˜ë¡œ ë³€ê²½í•œ ì½”ë“œë¡œ, ì´ ë°©ì‹ì€ ì½”ë“œì˜ **ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆê³  í•¨ìˆ˜ ì„ ì–¸ê³¼ í•¨ìˆ˜ í˜¸ì¶œë§Œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤ë©´ ìœ„ì—ì„œë¶€í„° ì•„ë˜ë¡œ ìˆœì„œëŒ€ë¡œ ì½ëŠ”ë° ì–´ë ¤ì›€ì´ ì—†ìŠµë‹ˆë‹¤**.

í•˜ì§€ë§Œ, ì¼íšŒì„± í•¨ìˆ˜ë¥¼ ì „ë¶€ ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ê²ƒì€ ì½”ë“œëª…ì„ ì¼ì¼ì´ ë”°ë¼ë‹¤ë…€ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì˜¤íˆë ¤ í—·ê°ˆë¦¼ì„ ìœ ë°œí•  ì†Œì§€ê°€ ìˆìŠµë‹ˆë‹¤.

ì´ì™¸ì—ë„ ES6ì— ë„ì…ëœ `Promise`, `Generator`, `ES2017`ì— ë„ì…ëœ `async/await`ë¥¼ í†µí•´ì„œ ì½œë°± ì§€ì˜¥ì„ í•´ê²°í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

## Promise

```javascript
new Promise((resolve) => {
  setTimeout(() => {
    let name = 'Espresso'
    console.log(name)
    resolve(name)
  }, 500)
})
  .then((prevName) => {
    return new Promise((resolve) => {
      setTimeout(() => {
        let name = prevName + ', Americano'
        console.log(name)
        resolve(name)
      }, 500)
    })
  })
  .then((prevName) => {
    return new Promise((resolve) => {
      setTimeout(() => {
        let name = prevName + ', Mocha'
        console.log(name)
        resolve(name)
      }, 500)
    })
  })
  .then((prevName) => {
    return new Promise((resolve) => {
      setTimeout(() => {
        let name = prevName + ', Latte'
        console.log(name)
        resolve(name)
      }, 500)
    })
  })
```

ìœ„ ì½”ë“œëŠ” ES6ì˜ `Promise`ë¥¼ ì´ìš©í•œ ë°©ì‹ìœ¼ë¡œ, **new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•œ Promiseì˜ ì¸ìë¡œ ë„˜ê²¨ì£¼ëŠ” ì½œë°± í•¨ìˆ˜ëŠ” í˜¸ì¶œí•  ë•Œ ë°”ë¡œ ì‹¤í–‰**ë˜ì§€ë§Œ ê·¸ ë‚´ë¶€ì— resolve ë˜ëŠ” reject í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” êµ¬ë¬¸ì´ ìˆì„ ê²½ìš° ë‘˜ ì¤‘ í•˜ë‚˜ê°€ ì‹¤í–‰ë˜ê¸° ì „ê¹Œì§€ëŠ” thenë˜ëŠ” catchë¡œ ë„˜ì–´ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ, ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë  ë•Œ resolve ë˜ëŠ” rejectë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ìœ¼ë¡œ **ë¹„ë™ê¸° ì‘ì—…ì˜ ë™ê¸°ì  í‘œí˜„ì´ ê°€ëŠ¥**í•´ì§‘ë‹ˆë‹¤.

## Promise í•¨ìˆ˜í™”

```javascript
const addCoffee = (name) => {
  return (prevName) => {
    return new Promise((resolve) => {
      setTimeout(() => {
        const newName = prevName ? `${prevName}, ${name}` : name
        console.log(newName)
        resolve(newName)
      }, 500)
    })
  }
}

addCoffee('Espresso')()
  .then(addCoffee('Americano'))
  .then(addCoffee('Mocha'))
  .then(addCoffee('Latte'))
```

ìœ„ ì½”ë“œì²˜ëŸ¼ **ë°˜ë³µì ì¸ ë‚´ìš©ì„ í•¨ìˆ˜í™”**í•´ì„œ ì§§ê²Œ í‘œí˜„í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

## Generator

```javascript
const addCoffee = (prevName, name) => {
  setTimeout(() => {
    coffeeMaker.next(prevName ? `${prevName}, ${name}` : name)
  }, 500)
}

const coffeeGenerator = function* () {
  const espresso = yield addCoffee('', 'Espresso')
  console.log(espresso)

  const americano = yield addCoffee(espresso, 'Americano')
  console.log(americano)

  const mocha = yield addCoffee(americano, 'Mocha')
  console.log(mocha)

  const latte = yield addCoffee(mocha, 'Latte')
  console.log(latte)
}

const coffeeMaker = coffeeGenerator()
coffeeMaker.next()
```

ìœ„ ì½”ë“œëŠ” **function\* () í˜•ì‹**ìœ¼ë¡œ ì‘ì„±ëœ í•¨ìˆ˜ì¸ `Generator í•¨ìˆ˜`ë¥¼ ì´ìš©í•œ ê²ƒìœ¼ë¡œ ES6ì—ì„œ ë‚˜ì˜¨ í•¨ìˆ˜ì…ë‹ˆë‹¤.

Generator í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ **Iteratorê°€ ë°˜í™˜**ë˜ëŠ”ë°, IteratorëŠ” `next ë©”ì„œë“œ`ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

ì´ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ **ì•ì„œ ë©ˆì·„ë˜ ë¶€ë¶„ë¶€í„° ì‹œì‘í•´ì„œ, ê·¸ ë‹¤ìŒì— ë“±ì¥í•˜ëŠ” yieldì—ì„œ í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ë©ˆì¶¥ë‹ˆë‹¤**.

ë”°ë¼ì„œ, ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ëŠ” ì‹œì ë§ˆë‹¤ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ Generator í•¨ìˆ˜ **ë‚´ë¶€ì˜ ì†ŒìŠ¤ê°€ ìœ„ì—ì„œë¶€í„° ì•„ë˜ë¡œ ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰**ë©ë‹ˆë‹¤.

## Promise + async/await

```javascript
const addCoffee = (name) => {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(name)
    }, 500)
  })
}

const coffeeMaker = async () => {
  let coffeeList = ''
  let _addCoffee = async (name) => {
    coffeeList += (coffeeList ? ', ' : '') + (await addCoffee(name))
  }

  await _addCoffee('Espresso')
  console.log(coffeeList)

  await _addCoffee('Americano')
  console.log(coffeeList)

  await _addCoffee('Mocha')
  console.log(coffeeList)

  await _addCoffee('Latte')
  console.log(coffeeList)
}

coffeeMaker()
```

ìœ„ ì½”ë“œëŠ” ES2017ì• ì„œ ì¶”ê°€ ëœ `async/await`ë¥¼ ì´ìš©í•œ ì½”ë“œë¡œ, ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³ ì í•˜ëŠ” í•¨ìˆ˜ ì•ì— `async`ë¥¼ í‘œê¸°í•˜ê³ , í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‹¤ì§ì ì¸ ë¹„ë™ê¸° ì‘ì—…ì´ í•„ìš”í•œ ìœ„ì¹˜ë§ˆë‹¤ `await`ë¥¼ í‘œê¸°í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ë’¤ì˜ ë‚´ìš©ì„ **Promiseë¡œ ìë™ ì „í™˜**í•˜ê³  í•´ë‹¹ ë‚´ìš©ì´ **resolveëœ ì´í›„ì—ì•¼ ë‹¤ìŒìœ¼ë¡œ ì§„í–‰**ë©ë‹ˆë‹¤.

---

### ğŸ”— References

[ì½œë°± ì§€ì˜¥ íƒˆì¶œí•˜ê¸°! ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ë²•](https://hanamon.kr/javascript-%EC%BD%9C%EB%B0%B1-%EC%A7%80%EC%98%A5-%ED%83%88%EC%B6%9C%ED%95%98%EA%B8%B0-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95/)

[CallBack ì§€ì˜¥ì— Promise ì ìš©í•˜ê¸°](https://preiner.medium.com/callback%EC%A7%80%EC%98%A5%EC%97%90-promise-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0-d02272ecbabe)
