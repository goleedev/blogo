---
title: '😎 자바스크립트 브라우저 저장소란'
thumbSrc: '/static/images/js33.png'
date: '2021-07-29'
tags: ['FE', 'JavaScript']
draft: false
summary: '모던 자바스크립트를 학습하며 정리한 자료로 브라우저 저장소에 대해 설명합니다.'
images: ['/static/js33/js6.png']
authors: ['default']
---

# 📌 목차

![JS Storage](/static/images/js33.png)

- **💁🏻 웹 스토리지 (Web Storage)란**

- **🤷🏻 웹 스토리지와 쿠키와 비교**

- **🗄️ LocalStorage와 SessionStorage**

- **🔐 웹 스토리지의 보안**

---

# 💁🏻 웹 스토리지 (Web Storage)란

`HTML5`에는 웹의 데이터를 **클라이언트에 저장할 수 있는 새로운 자료구조인 `Web Storage 스펙`** 이 포함되어 있습니다. 구체적으로 웹 스토리지의 개념은 **`key/value 쌍`으로 데이터를 저장하고 키를 기반으로 데이터를 조회**하는 패턴입니다. 이러한 웹 스토리지는 `영구 저장소 (LocalStorage)`와 `임시 저장소 (Session Storage)`를 따로 두어 **데이터의 지속성을 구분할 수 있어 응용 환경에 맞는 선택**이 가능합니다.

웹 스토리지는 기존 웹 환경의 `쿠키 (Cookie)`와 매우 유사한 개념이며, 몇 가지 쿠키의 단점을 극복하는 개선점이 도입 되었습니다. 그렇다고 `쿠키`가 배제 되거나 사장된 개념은 아니며 여전히 유효하고 꽤 적절한 **클라이언트 저장 도구**이며 `HTML5`에서도 여전히 쿠키를 이용할 수 있습니다.

---

# 🤷🏻 웹 스토리지와 쿠키와 비교

## 쿠키는 매번 서버로 전송됩니다.

웹 사이트에서 쿠키를 설정하면 이후 **모든 웹 요청은 쿠키 정보를 포함하여 서버로 전송**됩니다. 하지만 웹 스토리지는 저장된 데이터가 **클라이언트에 존재**할 뿐 서버로 전송은 이루어지지 않으며, 따라서 **네트워크 트래픽 비용이 감소**됩니다.

## 객체 정보를 저장할 수 있습니다.

**문자열 기반 데이터 이외에 체계적으로 구조화된 객체를 저장**할 수 있다는 것은 개발 편의성을 제공해주는 주요한 장점이 됩니다. 단, 각 브라우저가 해당 기능을 지원하는 지 여부는 확인해야 합니다.

## 용량의 제한이 없습니다.

쿠키는 **개수와 용량에 있어 제한**이 있습니다. 하나의 사이트에서 저장할 수 있는 **최대 쿠키 수는 20개**이며, 하나의 사이트에서 저장할 수 있는 **최대 쿠키 크기는 4KB로 제한**되어 있습니다. 그러나 웹 스토리지에는 이러한 제한이 없습니다. 물론 쿠키도 하위 키를 이용하면 이러한 제한을 일부 해소할 수 있지만, 대부분 쿠키의 제한까지 데이터를 저장할 일이 없기 때문에 굳이 그럴 필요가 없습니다.

## 영구 데이터 저장이 가능합니다

쿠키는 **만료 일자를 지정**하게 되어 있어 언젠가 제거되게 됩니다. 이때, 만료 일자를 지정하지 않으면 `세션 쿠키`가 되며, `영구 쿠키`를 원한다면 만료 일자를 굉장히 멀게 설정하면 됩니다. 반면, 웹 스토리지는 **만료기간의 설정이 없습니다**. 즉, 한번 저장한 **데이터는 영구적으로 존재**하는 것입니다.

> 웹 스토리지와 쿠키의 차이점에 대해서 웹 스토리지가 특별히 좋은 이유는 없다고 봐도 무방하지만, 한 가지 **매번 서버로 전송되지 않는다는 장점**이 꽤나 유용하게 작용합니다.

---

# 🗄️ LocalStorage와 SessionStorage

웹 스토리지는 **데이터의 지속성**과 관련하여 두 가지 용도의 저장소를 제공하는데요. 기본적으로 웹 스토리지는 쿠키와 마찬가지로 **사이트의 도메인 단위로 접근이 제한**됩니다. 예를 들어, **A 도메인에서 저장한 데이터는 B 도메인에서 조회할 수 없다**는 것입니다. 이는 데이터의 보안 측면에서 당연한 것이기도 합니다.

## LocalStorage

저장한 데이터를 명시적으로 지우지 않는 이상 **영구적으로 보관이 가능**합니다. 또한, **도메인마다 별도의 로컬 스토리지가 생성**되며, **브라우저를 종료해도 데이터는 보관**되어 다음 번 접속에도 그 데이터를 사용할 수 있습니다. 이뿐만 아니라, LocalStorage는 도메인만 같으면 데이터를 전역적으로 공유가 가능합니다. windows 전역 객체의 `LocalStorage`라는 컬렉션을 통해 저장과 조회가 이루어집니다.

## SessionStorage

SessionStorage는 **데이터의 지속성과 액세스 범위에 특수한 제한**이 존재합니다. 즉, 데이터가 지속적으로 보관되지 않는 것인데, 이는 마치 브라우저 기반 세션 쿠키와 그 성질이 비슷하며 **현재 페이지가 브라우징되고 있는 브라우저 컨텍스트 내에서만 데이터가 유지**됩니다. 또한, `SessionStorage`는 **브라우저가 종료되면 데이터도 같이 지워집니다**. 즉, 브라우저가 종료되면 SessionStorage도 삭제됩니다.

탭 브라우징이나 브라우저를 하나 더 실행해서 같은 페이지를 실행했을 때, 이 두 페이지의 SessionStorage는 **각각 별개의 영역으로 서로 침범하지 못한다**는 의미입니다. SessionStorage는 windows 전역 객체의 `sessionStorage`라는 컬렉션을 통해 저장과 조회가 이루집니다.

---

# 🔐 웹 스토리지의 보안

웹 스토리지의 보안은 **서로 다른 도메인의 데이터 침범을 막고는 있지만 클라이언트, 즉 사용자를 막고 있지는 않습니다**. 클라이언트는 얼마든지 저장된 값을 **임의로 수정이 가능**합니다. 이것은 쿠키와 동일한 개념이며, 쿠키에 비해 별다른 보안 취약점을 더 가진 것은 아닙니다. 따라서 개발자는 사용자에 의한 이러한 **임의 변경에 항상 예의 주시하고 방어 코드의 작성**을 잊지 말아야 합니다.

---

### 🔗 References

[MDN Storage](https://developer.mozilla.org/ko/docs/Mozilla/Add-ons/WebExtensions/API/storage)
