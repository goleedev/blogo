---
title: '😎 모던 자바스크립트 정리본 - 자바스크립트 엔진이란'
thumbSrc: '/static/images/js5.png'
date: '2021-06-28'
tags: ['FE', 'JavaScript']
draft: false
summary: '모던 자바스크립트를 학습하며 정리한 자료로 JavaScript 엔진에 대해 설명합니다.'
images: ['/static/images/js5.png']
authors: ['default']
---

## 📌 목차

![JS Engine](/static/images/js5.png)

- 💁🏻 자바스크립트 엔진이란

- 🚂 자바스크립트 엔진 파이프라인

- ✅ 자바스크립트 엔진의 종류

---

## 💁🏻 자바스크립트 엔진이란

개발자가 작성한 자바스크립트 코드를 해석하고 실행시켜주는 것이 자바스크립트 엔진으로,

가능한 짧은 시간 내에 가장 최적화된 코드를 생성하는 것이 목표입니다.

즉, 자바스크립트 엔진은 자바스크립트 코드를 실행하는 프로그램 혹은 인터프리터를 말합니다.

표준적인 인터프리터로 구현될 수도 있고, 혹은 자바스크립트 코드를 바이트코드로 컴파일하는 JIT 컴파일러로 구현할 수도 있습니다.

여러 목적으로 사용될 수 있지만 주로 웹 브라우저를 위해 사용됩니다.

---

## 🚂 자바스크립트 엔진 파이프라인

![JS Engine Pipeline](/static/images/js-engine1.png)

자바스크립트 엔진들이 소스 코드를 기계어로 만들기까지 공통적으로 수행하는 과정은 위의 그림과 같습니다.

먼저, 자신이 작성한 자바스크립트 소스 코드에서부터 시작하며, 자바스크립트 엔진은 소스 코드를 파싱해서 Abstract Syntax Tree(AST)로 만듭니다.

그 다음, AST를 바탕으로 인터프리터는 바이트 코드를 생성합니다. 여기까지가 자바스크립트로 작성된 코드를 실제로 엔진이 실행하는 부분입니다.

코드를 더 빠르게 실행하기 위해, 바이트코드는 프로파일링 된 데이터와 함께 최적화 컴파일러(optimizing compiler)로 보내집니다.

이곳에서는 프로파일링 데이터를 기반으로 매우 최적화 된 기계어를 생성합니다. 만약 정확하지 않은 결과가 나왔다면 다시 deoptimizes하여 바이트 코드로 되돌립니다.

### 인터프리터/컴파일러 파이프라인

위의 그림의 노란색 부분의 과정을 살펴보면, 일반적으로는 다음과 같은 공통된 파이프라인을 가지고 있습니다.

![JS Engine Pipeline](/static/images/js-engine2.png)

- 인터프리터(interpreter): 최적화되지 않은 바이트코드(bytecode)를 빠르게 생성합니다.

- 최적화 컴파일러(optimizing compiler): 매우 최적화된 기계어 코드(machine code)를 약간 시간을 들여서 생성합니다.

이 과정에서 바이트코드는 중간 언어(IR, intermediate representation)입니다. 만약 interpreter 모드라면 바이트코드를 하나씩 읽어서 실행하고,

JIT 모드라면 바이트 코드를 기반으로 컴파일하여 수행합니다.

---

## ✅ 자바스크립트 엔진의 종류

- V8 : 오픈소스로 구글에서 개발했습니다. C++로 작성되었으며, 구글 크롬과 Node.js에서 사용됩니다. 가장 유명합니다.
- SpiderMonkey : 최초의 자바스크립트 엔진입니다. 넷스케이프 네비게이터 웹 브라우저를 위해 브랜던 아이크에 의해 개발되었습니다. 지금은 모질라 파이어폭스에 사용됩니다.
- Rhino : 모질라 재단에서 운영합니다. 오픈소스이며, 전체가 자바로 개발되었습니다.
- JavaScriptCore : 오픈소스, 니트로라는 이름으로도 알려져 있으며 애플이 사파리를 위해 개발했습니다.
- Chakra(Jscript9) : 인터넷 익스플로러용입니다.
- Chakra(JavaScript) : 마이크로소프트 엣지용입니다.
- Nashron : 오픈JDK의 일환으로 오픈소스이며 Oracle Java Languages and Tool Group이 개발하였습니다.
- JerryScript : 사물인터넷을 위한 경량 엔진입니다.

---

### 🔗 Reference

[자바스크립트 엔진의 최적화 기법](https://meetup.toast.com/posts/77)
