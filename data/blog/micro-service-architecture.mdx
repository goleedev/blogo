---
title: '🛠️ 마이크로서비스 아키텍처란'
thumbSrc: '/static/images/msa.png'
date: '2021-07-26'
tags: ['CS']
draft: false
summary: '마이크로서비스 아키텍처에 대해 학습한 내용을 정리합니다.'
images: ['/static/images/msa.png']
authors: ['default']
---

# 📌 목차

![MSA](/static/images/msa.png)

- **💁🏻 마이크로서비스란**

- **⚖️ 마이크로서비스 아키텍처와 모놀리식 아키텍처**

- **🤷🏻 MSA의 장단점**

---

# 💁🏻 마이크로서비스란

마이크로서비스란 스스로 돌아 갈 수 있는 작은 서비스이며 독립적 배포 가능한 서비스를 의미합니다. 또한 일반적으로 **하나의 서비스는 하나의 기능이며, 하나의 프로젝트**라고 볼 수 있지만, 비즈니스와 시스템의 실정에 맞게 서비스의 범위 (크기)를 설정하는 것이 중요합니다.

이러한 마이크로서비스는 아래와 같은 특징을 가집니다.

- 각각의 서비스는 그 크기가 작을 뿐, **서비스 자체는 하나의 모놀리틱 아키텍쳐와 유사한 구조**를 가집니다.

- 각각의 서비스는 **독립적으로 배포가 가능**해야 합니다.

- 각각의 서비스는 **다른 서비스에 대한 의존성이 최소화**되어야 합니다.

- 각 서비스는 **개별 프로세스로 구동** 되며, REST와 같은 **가벼운 방식으로 통신**되어야 합니다.

---

# ⚖️ 마이크로서비스 아키텍처와 모놀리식 아키텍처

![MA VS MSA](/static/images/msa1.png)

_Source | `Tmax`_

## 마이크로서비스 아키텍처 (Microservice Architecture)

마이크로서비스 아키텍처는 (MSA)는 Microservice Architecture 약자로 **소프트웨어 개발 기법 중 하나**입니다. AWS, GCP, Azure, OCI 등 클라우드 시스템을 제공하는 회사들을 보면 **출시되는 어플리케이션과 업데이트는 거의 마이크로서비스 아키텍처를 위해 맞춰져가고 있다**고 해도 과언이 아닙니다. 실제로 클라우드 시스템에서 제공하는 어플리케이션도 `마이크로서비스 (Microservices)`라고 보시면 됩니다.

또한 MSA는 기존의 복잡한 `모놀리식 (monolithic)` 체계와는 달리 애플리케이션을 **느슨하게 결합된 작은 구성 요소 서비스로 분해함으로써 독립적인 개발, 배포 및 운영이 가능**하도록 합니다. 이로써 MSA는 애플리케이션 개발 팀이 보다 **신속하게 새로운 기능을 제공**할 수 있도록 하고, **개발 조직이 커질 수 있도록 지원**하며, 서비스가 필요에 따라 **신속하고 정확하게 확장**되도록 할 수 있습니다.

## 모놀리식 아키텍처 (Monolithic Architecture)

위의 그림에서도 볼 수 있듯이 모놀리식 아키텍처란 **소프트웨어의 모든 구성요소가 한 프로젝트에 통합되어있는 형태**를 말합니다. 아직까지는 많은 소프트웨어가 모놀리식 형태로 구현되어 있고, **소규모 프로젝트에는 모놀리식 아키텍쳐가 훨씬 합리적**인데요. 그만큼 간단한 아키텍쳐이고 **유지보수가 용이**하기 때문입니다.

하지만 모놀리식 아키텍처는 **일정 규모 이상의 서비스, 혹은 수백명의 개발자가 투입되는 프로젝트에서 뚜렷한 한계를 보이며 부적합**한데요. 이는 서비스/프로젝트가 커지면 커질수록, **영향도 파악 및 전체 시스템 구조의 파악에 어려움**이 있기 때문입니다. 이와 같은 이유는 아래와 같습니다.

- 빌드 시간 및 테스트 시간, 그리고 배포 **시간이 기하급수적으로 늘어나게 됩니다**.
- 서비스를 부분적으로 **scale-out하기 힘듭니다**.
- **부분의 장애가 전체 서비스의 장애**로 이어지는 경우가 발생하게됩니다.

---

# 🤷🏻 MSA의 장단점

## MSA의 장점

- **배포( deployment) 관점**: 서비스 별 **개별 배포가 가능**하고 배포 시 전체 서비스의 중단이 되지 않으며, **요구사항을 신속하게 반영하여 빠르게 배포**할 수 있습니다.

- **확장 (scaling) 관점**: 특정 서비스에 대한 **확장성이 용이**한데, 특히 클라우드 사용에 적합한 아키텍쳐입니다.

- **장애 (failure) 관점**: 장애가 전체 서비스로 확장될 가능성이 적고 **부분적인 장애에 대한 격리가 수월**합니다.

- **이외의 장점**: 신기술의 적용이 유연하고, 서비스를 **polyglot하게 개발/운영** 할 수 있다는 장점이 있습니다.

## MSA의 단점

MSA는 보다 복잡한 아키텍쳐로 전체 서비스가 커짐에 따라 그 복잡도가 기하급수적으로 증가할 수 있습니다.

- **성능**: 서비스 간 호출 시 API를 사용하기 때문에, **통신 비용이나, Latency가 그만큼 늘어나게 됩니다**.

- **테스트 / 트랜잭션**: 서비스가 분리되어 있기 때문에 **테스트와 트랜잭션의 복잡도가 증가하고, 많은 자원을 필요**로 합니다.

- **데이터 관리**: 데이터가 여러 서비스에 걸쳐 분산되기 때문에 **한번에 조회하기 어렵고, 데이터의 정합성 또한 관리하기 어렵습니다**.

---

### 🔗 Reference

[마이크로서비스 아키텍처(MSA) 개념 소개](http://clipsoft.co.kr/wp/blog/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98msa-%EA%B0%9C%EB%85%90/)

[[초보개발자 일지] 대세 MSA? 너 뭐니?](https://shaul1991.medium.com/%EC%B4%88%EB%B3%B4%EA%B0%9C%EB%B0%9C%EC%9E%90-%EC%9D%BC%EC%A7%80-%EB%8C%80%EC%84%B8-msa-%EB%84%88-%EB%AD%90%EB%8B%88-efba5cfafdeb)
